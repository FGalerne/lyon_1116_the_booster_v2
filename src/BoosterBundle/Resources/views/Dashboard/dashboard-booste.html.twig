{% extends 'base.html.twig' %}

{% block body %}
    {% for society in societies %}

        <section class="container-fluid global-presentation">
            <div class="container">
                <div class="col-xs-12 col-md-9 dashboard-society">
                    <div class="col-xs-12 col-md-4 society-photo">
                        <img src="{{ society.photo|default ? asset('img/uploads/societies/' ~ society.photo) : asset('img/avatar-default.png') }}" alt="photo couverture société" />
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <h1 class="text-left">{{ society.societyName }}</h1>
                        <div class=" dashboard-social-media">
                            {% if society.facebook %}<a href="{{ society.facebook }}" target="_blank"><li><i class="fa fa-facebook-official" aria-hidden="true"></i></li></a>{% endif %}
                            {% if society.twitter %}<a href="{{ society.twitter }}" target="_blank"><li><i class="fa fa-twitter-square" aria-hidden="true"></i></li></a>{% endif %}
                            {% if society.linkedin %}<a href="{{ society.linkedin }}" target="_blank"><li><i class="fa fa-linkedin-square" aria-hidden="true"></i></li></a>{% endif %}
                            {% if society.youtube %}<a href="{{ society.youtube }}" target="_blank"><li><i class="fa fa-youtube-square" aria-hidden="true"></i></li></a>{% endif %}
                        </div>
                        {% if society.transaction|default %}
                        <div id="on-homePage">
                            <a>MA SOCIETE EST EN HOME PAGE JUSQU'AU: {{ society.transaction.endTime|date("m/d/Y H:i:s") }}</a>
                        </div>
                        {% else %}
                        <div id="add-homePage">
                            <a href="{{ society.transaction.society|default ? path('transaction_edit', { 'id': app.user.society.id } ) : path('transaction_new', { 'id': app.user.society.id }) }}">ME METTRE EN AVANT SUR LA PAGE D'ACCUEIL</a>
                        </div>
                        {% endif %}
                    </div>
                </div>

                {# Here the right part of the dashboard we could found the statistic of the society and the button to add a new project #}

                <div class="col-xs-12 col-md-3" id="statistic-society">
                    <p>Heures reçues : {{ society.hoursTaken }}</p>
                    <p>Projets réalisés : {{ society.projectDoneNumber }}</p>
                    <p>Note du booster : {{ society.averageNotation }}</p>
                    <ul>
                        <li><i class="fa fa-star" aria-hidden="true"></i></li>
                        <li><i class="fa fa-star" aria-hidden="true"></i></li>
                        <li><i class="fa fa-star" aria-hidden="true"></i></li>
                        <li><i class="fa fa-star" aria-hidden="true"></i></li>
                        <li><i class="fa fa-star-o" aria-hidden="true"></i></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-md-3" id="add-project">
                    <a href="#">JE DEPOSE UN PROJET</a>
                </div>

            </div>
            <div class="container">
                <h2>{{ society.punchLine | raw }}</h2>
            </div>
            <section class="container-fluid">
                <div class="container dashboard-nav-container">
                    <div class="col-xs-12" id="navbar-dashboard">
                        <ul class="nav nav-pills dashboard-nav">
                            <li><a id="project-home">Accueil</a></li>
                            <li><a id="project-in-progress">Projets en cours</a></li>
                            <li><a id="project-done">Projets réalisés</a></li>
                            <li><a id="messenger">Messages</a></li>
                        </ul>
                    </div>
                </div>

            </section>
            {# The presentation text of the society #}
            <section id="dashboard-booster-home" class="container-fluid presentation-booster">
                <section class="container">
                    <div class="row">
                        <h3 class="text-left">Ma présentation:</h3>
                        <div class="col-xs-12 presentation-text">
                            <p>{{ society.presentation | raw }}</p>
                        </div>
                    </div>
                </section>
            </section>
        {# The Project part "IN PROGRESS" #}

        <section class="container-fluid presentation-booster" id="dashboard-booster-inProgress">
            <div class="container project-in-progress">
                <div class="col-xs-6 col-md-3">
                    <p>Nom de la société</p>
                    <p>blablabla</p>
                </div>
                <div class="col-xs-6 col-md-3">
                    <p>Nom du projet :</p>
                    <p>blablabla</p>
                </div>
                <div class="col-xs-6 col-md-3">
                    <p>Nombre d'heures:</p>
                    <p>blablabla</p>
                </div>
                <div class="col-xs-6 col-md-3">
                    <p>Statut:</p>
                    <p>Réalisé</p>
                </div>
            </div>
        </section>

        {# The Project part "DONE" #}

        <section class="container-fluid presentation-booster" id="dashboard-booster-done">
            <div class="container project-done">
                <div class="col-xs-6 col-md-3">
                    <p>Nom de la société</p>
                </div>
                <div class="col-xs-6 col-md-3">
                    <p>Nom du projet :</p>
                </div>
                <div class="col-xs-6 col-md-3">
                    <p>Nombre d'heures:</p>
                </div>
                <div class="col-xs-6 col-md-3">
                    <p>Statut:</p>
                </div>
            </div>
        </section>
    {% endfor %}
    {% include 'BoosterBundle:Dashboard:messenger.html.twig' %}
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/dashboards.js')}}"></script>
    <script src="{{ asset('js/messenger.js')}}"></script>
    <script>
        tinymce.init({
            selector:'.WYSIWYG',
            forced_root_block: false,
            menubar: 'tools',
            toolbar: 'undo redo | bold italic underline strikethrough | fontsizeselect',
            height : 300,
        });
    </script>
{% endblock %}